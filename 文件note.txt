1.通常计算机提供了两种存储器，分别是内存和外存。其中内存方式的特点是存储容量小但工作速度高，外存方式的特点是容量大但速度低。
2.外存一般分为两类，分别是顺序存取设备（磁带存储器）和直接存取设备（磁盘存储器）
3.数据项是数据文件中最小的基本单位，是反映实体某一方面的特征和属性的数据表示
4.（逻辑）记录是一个实体的所有数据项的集合，用来标识一个记录的数据项集合被称为关键字项，值称为关键字，能唯一表示一个记录的关键字称为主关键字，其他关键字称为此关键字
5.文件存储在外存，通常以块（io读写的基本单位，称为物理记录）存取。物理记录和逻辑记录之间的关系如下：1.一个物理记录存放一个逻辑记录。2.一个物理记录包含多个逻辑记录。3.多个物理记录存放一个逻辑记录
6.文件是大量性质相同的数据记录的集合。文件的所有记录是按一定排列顺序呈现在用户面前，这种排列顺序是按记录的关键字，也可以按记录进入文件的先后顺序
7.文件按记录类型可分为操作系统文件，即流式文件和数据库文件。
8.文件按记录长度可以分为定长记录文件和不定长记录文件
9.文件的操作：检索记录（查找下一个记录，查找第k个记录，按关键字查找）、插入记录、删除记录、修改记录和记录排序。
10.文件的组织形式是指文件的物理结构，按照组织方式的不同可以分为顺序文件、索引文件和ISAM文件（索引顺序存取文件）。
11.在顺序文件中，记录按其在文件中的逻辑顺序依次进入存储介质，即记录的逻辑顺序和存储顺序是一致的。
12.顺序文件可分为（1）根据记录是否按关键字排序：可分为排序顺序文件和一般顺序文件；（2）根据逻辑上相邻的记录的物理位置关系可分为连续顺序文件和链接顺序文件。
13.顺序文件类似于线性表中的顺序存储结构，适合于顺序存取的外存介质，不适合随机处理
14.索引文件是组织大型数据库的一种重要技术。
15.索引是记录和记录存储地址之间的对照表，索引文件也被称为索引文件，由索引表和数据表两部分组成，数据表为存储实际的数据记录，索引表为存储记录的关键字和存储地址之间的对照表
16.如果数据文件中的每一个记录都有一个索引项，这种索引被称为稠密索引，否则被称为非稠密索引。
17.如果是非稠密索引：将文件记录划分为若干块，块内记录可以无序，但块间必须有序。如果块内记录有序，称为索引顺序文件，否则称为索引无序文件
18.针对索引非顺序文件，只需对每一块建立索引项。索引项数目与数据表中记录数相同，当索引表很大时，检索记录需多次访问外存
19.稠密索引可以使用顺序查找或折半查找
20.非稠密索引的查找的基本流程：1.首先根据索引找到记录所在块，再将该块读入到内存，然后在块中顺序查找。2.平均查找长度由两部分组成：块地址的平均查找长度Lb和块内记录的平均查找长度Lw，即ASLbs=Lb+Lw。3.若将长度为n的文件分为b块，每块内有s个记录，则b=n/s。设每块的查找概率为1/b，块内每个记录查找概率为1/s，顺序查找时ASLbs=Lb+Lw=(b+1)/2+(s+1)/2，s=n/2时值最小
21.如果文件记录数很庞大，可以将索引表再分块，建立索引的索引，形成树形结构的多级索引
22.ISAM（顺序索引存取方法）是专为磁盘设计的文件组织形式，采用了静态索引结构，是一种二级索引结构的顺序文件。
23.ISAM文件由基本文件、磁道索引、柱面索引和主索引构成。其中基本文件按关键字的值顺序进行存放，首先集中存放在同一柱面上，然后再顺序存放再相邻柱面。对于同一柱面，按照盘面次序顺序存放。另外在每个柱面上还有一个溢出区，用于存放从该柱面的磁道上溢出的记录。同一磁道上溢出的记录通常由指针相链接。
24.通过ISAM文件，为每个磁道建立了一个索引项，相同柱面的磁道索引项组成一个索引表，称为磁道索引，由基本索引项和溢出索引项组成。
25.基本索引项：是关键字域存放该磁道上的最大关键字，用指针域存放该磁道的首地址。
26.溢出索引项：是为插入记录设置的。用关键字域存放该磁道上溢出记录的最大关键字，用指针域存放溢出记录链表的头指针。
27.在磁道索引的基础上可以为文件所占用的柱面建立一个柱面索引，其中关键字域是存放在该柱面上的最大关键字，指针域指向该柱面的第1个磁道索引项。
28.当柱面索引很大时，因为柱面索引本身占用很多磁道，所以可以为柱面索引建立一个主索引。
29.检索ISAM文件时，在根据关键字查找时，首先从主索引中查找记录所在的柱面索引块的位置，再从柱面索引块中查找磁道索引块的位置，再从磁道索引块中查找出该记录所在的磁道位置，最后从磁道中顺序查找要检索的记录。
30.插入记录时，根据待插入记录的关键字查找到相应位置，将该磁道中插入位置及以后的记录后移一个位置，如果溢出，将该磁道中最后一个记录存入同一柱面的溢出区，修改磁道索引，将记录插入到相应位置。
31.删除记录时，只要找到记录删除其标记即可，无需移动记录，并周期性的整理ISAM文件。
32.ISAM文件的特点：优点节省存储空间，查找速度快；缺点：处理删除记录复杂，多次删除后效率低下。
33.VSAM（虚拟存取方法）也是一种索引顺序文件组织方式，利用了os的虚拟存储器功能，采用的是基于b+树的动态索引结构。
34.文件存取不以柱面、磁道等物理空间为存取单位，而是以逻辑空间为存取单位，例如控制区域和控制空间
35.一个VSAM由索引集、顺序集和数据集组成。
36.数据集：文件的记录均存放在数据集中。数据集中的一个节点被称为控制区间，它是一个io操作的基本单位，每个控制区间含有一个或多个数据记录。
37.顺序集和索引集一起构成一棵B+树，作为文件的索引部分。顺序集中存放的每个控制区间的索引项由两部分组成：该控制区间中的最大关键字和指向控制区间的指针。若干相邻的控制区间的索引项，形成顺序集中的一个节点。节点之间用指针相链接，而每个节点又在其上一层的节点中建有索引，且逐层向上建立索引，所有的索引项都有最大关键字和指针两部分信息组成。这些高层的索引项形成B+树的非终端节点。
38.VSAM文件既可在顺序集中进行顺序存取，又可从最高层的索引（B+树的根节点）出发，进行按关键字的随机存取。顺序集中一个节点连同其对应的所有控制区间形成一个整体，称作控制区域，它相当于ISAM文件中的一个柱面，而控制区间相当于一个磁道。
39.文件的记录都存放在数据集中，数据集又分成多个控制区间。控制区间是VSAM进行io的基本单位，它由一组连续的存储单元组成，同一文件的控制区间大小相同。每个控制区间存放一个或多个逻辑记录。
40.顺序集是由B+树索引结构的叶子节点组成。每个节点存放若干个相邻控制区间的索引项，每个索引项存放一个控制区间中记录的最大关键字值和指向该控制区间的指针。
41.顺序集中的节点之间按顺序连接成一个链表，每个节点又在其上层建立索引，并逐层向上形成多级索引，则顺序集中的每一个节点是B+树的叶子节点，索引部分为索引集。
42.VSAM文件中没有溢出区，通过两种方式留出空间。1.每个控制区间流出空间 2.每个控制区域留出空的控制空间，并在顺序集的索引中指出
43.记录的插入：首先根据待插入记录的关键字查找到相应的位置：1.如果该控制区间有可用空间：将待插入记录的关键字大于待插入记录的关键字的记录后移一位，空出的位置存放待插入记录。2.如果控制区间没有可用空间：利用同一控制区域的一个空白控制空间进行区间分裂，将近一半的记录移到新的控制区间中，并修改顺序集中相应的索引，插入新的记录。3.如果控制区域没有空白控制空间，则开辟新的控制区域，进行控制区间域分裂和节点分裂。
44.记录的删除：先找到待删除记录，然后逐个前移同一控制区间中比删除记录关键字大的所有记录。
45.特点：优点：能动态地分配和释放空间，能保持较高的查询效率，保持较高的存储利用率，永远不需定期再组织。缺点，控制信息和索引占用空间较多。
46.对大型顺序文件的少量修改可以采用附加文件的方法降低所需的代价。
47.散列文件（直接存取文件）：利用散列存储方式组织的文件，类似于散列表，能够根据文件中记录关键字的特点，设计一个散列函数和冲突处理方法，将记录散列到存储介质上。
48.在散列文件中，成组存放磁盘上的记录，若干个记录组成一个存储单位，称为桶。假设在一个桶中存放n个记录，要存放第n+1个记录时会溢出，一般采用拉链法解决。
49.当检索记录时，先根据给定值求出散列桶的地址，将基桶的记录读入内存并进行顺序查找。如果找到的关键字等于给定值的记录，表示查找成功；否则在溢出桶的记录继续查找。删除记录，是对记录添加删除标记。
50.散列文件优点：文件随机存取，记录不需排序，插入删除方便，不需要索引区。缺点：不能顺序存取，检索方式仅限于简单查询。
51.数据库文件通常是多关键字文件，特点是不仅可以对主关键字进行各种查询，还可以对次关键字进行查询。因此需要多个索引。多关键字文件有多重表文件和倒排文件。
52.多重表文件：待插入记录的主索引一般是非稠密索引，其索引项一般有两项：主关键字值、头指针。待插入的次索引一般是稠密索引，其索引项有3项：次关键字值、头指针、链表长度。头指针指向数据文件中具有该次关键字值的第一个记录，在数据文件中为各个次关键字增加一个指针域，指向具有相同次关键字值得下一个记录的地址。
53.对于任何次关键字的查询，都应首先查找对应的索引，然后顺着相应指针所指的方向查找属于本链表的记录。
54.多重表的特点：优点易于构造和修改、查询方便，缺点插入和删除一个数据时，需要修改多个次关键字的指针
55.倒排文件又称逆转表文件，用记录的非主属性来查找记录，而组织文件叫做倒排文件，即次索引
56.多重表将相同关键字的记录链接在一起，而倒排文件将具有相同关键字的记录的地址收集在一起，并保存在次关键字的索引项中，不设指针域
57.倒排表文件的特点：优点检索速度快，插入和删除比多重表简单；缺点倒排表维护比较困难
58.倒排表的内容是一个属性值和该属性的全部记录地址。
59.文件的基本组织形式：顺序组织、索引组织、散列组织、链组织，常用的存储结构：顺序结构、索引结构、散列结构
60.检索可以按关键字检索，也可以按记录号检索；按记录检索又可以顺序检索和直接检索

